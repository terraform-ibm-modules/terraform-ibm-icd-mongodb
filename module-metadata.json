{
  "path": ".",
  "variables": {
    "allowlist": {
      "name": "allowlist",
      "type": "list(object({\n    address     = string\n    description = string\n  }))",
      "description": "(Optional, List of Objects) A list of allowed IP addresses for the database.",
      "default": [],
      "pos": {
        "filename": "variables.tf",
        "line": 34
      }
    },
    "auto_scaling": {
      "name": "auto_scaling",
      "type": "object({\n    cpu = object({\n      rate_increase_percent       = optional(number, 10)\n      rate_limit_count_per_member = optional(number, 20)\n      rate_period_seconds         = optional(number, 900)\n      rate_units                  = optional(string, \"count\")\n    })\n    disk = object({\n      capacity_enabled             = optional(bool, false)\n      free_space_less_than_percent = optional(number, 10)\n      io_above_percent             = optional(number, 90)\n      io_enabled                   = optional(bool, false)\n      io_over_period               = optional(string, \"15m\")\n      rate_increase_percent        = optional(number, 10)\n      rate_limit_mb_per_member     = optional(number, 3670016)\n      rate_period_seconds          = optional(number, 900)\n      rate_units                   = optional(string, \"mb\")\n    })\n    memory = object({\n      io_above_percent         = optional(number, 90)\n      io_enabled               = optional(bool, false)\n      io_over_period           = optional(string, \"15m\")\n      rate_increase_percent    = optional(number, 10)\n      rate_limit_mb_per_member = optional(number, 114688)\n      rate_period_seconds      = optional(number, 900)\n      rate_units               = optional(string, \"mb\")\n    })\n  })",
      "description": "Configure rules to allow your database to automatically increase its resources. Single block of autoscaling is allowed at once.",
      "pos": {
        "filename": "variables.tf",
        "line": 142
      }
    },
    "backup_encryption_key_crn": {
      "name": "backup_encryption_key_crn",
      "type": "string",
      "description": "(Optional) The CRN of a Key Protect Key to use for encrypting backups. If left null, the value passed for the 'kms_key_crn' variable will be used. Take note that Hyper Protect Crypto Services for IBM CloudÂ® Databases backups is not currently supported.",
      "pos": {
        "filename": "variables.tf",
        "line": 97
      }
    },
    "cbr_rules": {
      "name": "cbr_rules",
      "type": "list(object({\n    description = string\n    account_id  = string\n    rule_contexts = list(object({\n      attributes = optional(list(object({\n        name  = string\n        value = string\n    }))) }))\n    enforcement_mode = string\n  }))",
      "description": "(Optional, list) List of CBR rules to create",
      "default": [],
      "source": [
        "module.cbr_rule",
        "module.cbr_rule",
        "module.cbr_rule",
        "module.cbr_rule",
        "module.cbr_rule"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 177
      }
    },
    "configuration": {
      "name": "configuration",
      "type": "object({\n    maxmemory                   = optional(number)\n    maxmemory-policy            = optional(string)\n    appendonly                  = optional(string)\n    maxmemory-samples           = optional(number)\n    stop-writes-on-bgsave-error = optional(string)\n  })",
      "description": "Database Configuration in JSON format.",
      "source": [
        "ibm_database.mongodb.configuration"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 43
      }
    },
    "cpu_count": {
      "name": "cpu_count",
      "type": "number",
      "description": "The number of CPU cores available to the database instance. For more information refer to the docs https://cloud.ibm.com/docs/databases-for-mongodb?topic=databases-for-mongodb-pricing#mongodb-scale-member",
      "default": 7,
      "pos": {
        "filename": "variables.tf",
        "line": 122
      }
    },
    "disk_mb": {
      "name": "disk_mb",
      "type": "number",
      "description": "Disk space available to the database instance. For more information refer to the docs https://cloud.ibm.com/docs/databases-for-mongodb?topic=databases-for-mongodb-pricing#mongodb-scale-member",
      "default": 20480,
      "pos": {
        "filename": "variables.tf",
        "line": 116
      }
    },
    "endpoints": {
      "name": "endpoints",
      "type": "string",
      "description": "Endpoints available to the mongodb instance (public, private, public-and-private)",
      "default": "private",
      "source": [
        "ibm_database.mongodb.service_endpoints"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 80
      },
      "options": "public, private, public-and-private"
    },
    "existing_kms_instance_guid": {
      "name": "existing_kms_instance_guid",
      "type": "string",
      "description": "The GUID of the Hyper Protect or Key Protect instance in which the key specified in var.kms_key_crn is coming from. Only required if skip_iam_authorization_policy is false",
      "source": [
        "ibm_iam_authorization_policy.kms_policy.target_resource_instance_id"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 22
      },
      "immutable": true,
      "computed": true
    },
    "instance_name": {
      "name": "instance_name",
      "type": "string",
      "description": "Name of the MongoDB instance",
      "required": true,
      "source": [
        "ibm_database.mongodb.name"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 5
      }
    },
    "kms_key_crn": {
      "name": "kms_key_crn",
      "type": "string",
      "description": "(Optional) The root key CRN of a Key Management Service like Key Protect or Hyper Protect Crypto Service (HPCS) that you want to use for disk encryption. If `null`, database is encrypted by using randomly generated keys. See https://cloud.ibm.com/docs/cloud-databases?topic=cloud-databases-key-protect\u0026interface=ui#key-byok for current list of supported regions for BYOK",
      "source": [
        "ibm_database.mongodb.key_protect_key"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 91
      },
      "immutable": true
    },
    "members": {
      "name": "members",
      "type": "number",
      "description": "Allocated number of members",
      "default": 3,
      "pos": {
        "filename": "variables.tf",
        "line": 129
      }
    },
    "memory_mb": {
      "name": "memory_mb",
      "type": "number",
      "description": "Memory available to the database instance in MB. For more information refer to the docs https://cloud.ibm.com/docs/databases-for-mongodb?topic=databases-for-mongodb-pricing#mongodb-scale-member",
      "default": 1024,
      "pos": {
        "filename": "variables.tf",
        "line": 110
      }
    },
    "mongodb_version": {
      "name": "mongodb_version",
      "type": "string",
      "description": "The version of the mongodb to be provisioned",
      "source": [
        "ibm_database.mongodb.version"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 55
      },
      "immutable": true,
      "computed": true
    },
    "plan": {
      "name": "plan",
      "type": "string",
      "description": "The name of the service plan that you choose for your mongodb instance",
      "default": "standard",
      "required": true,
      "source": [
        "ibm_database.mongodb.plan"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 16
      },
      "immutable": true,
      "options": "standard, enterprise"
    },
    "region": {
      "name": "region",
      "type": "string",
      "description": "The region MongoDB is to be created on. The region must support BYOK region if Key Protect Key is used or KYOK region if Hyper Protect Crypto Service (HPCS) is used.",
      "default": "us-south",
      "required": true,
      "source": [
        "ibm_database.mongodb.location"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 10
      },
      "cloud_data_type": "region"
    },
    "resource_group_id": {
      "name": "resource_group_id",
      "type": "string",
      "description": "The ID of the IMB Cloud resource group where you want to create the instance",
      "required": true,
      "source": [
        "ibm_database.mongodb.resource_group_id",
        "ibm_iam_authorization_policy.kms_policy.source_resource_group_id"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 69
      },
      "cloud_data_type": "resource_group",
      "immutable": true,
      "computed": true,
      "cloud_data_range": [
        "resolved_to:id"
      ]
    },
    "skip_iam_authorization_policy": {
      "name": "skip_iam_authorization_policy",
      "type": "bool",
      "description": "Set to true to skip the creation of an IAM authorization policy that permits all MongoDB instances in the given Resource group to read the encryption key from the Hyper Protect or Key Protect instance in `existing_kms_instance_guid`.",
      "default": true,
      "source": [
        "ibm_iam_authorization_policy.kms_policy.count"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 28
      }
    },
    "tags": {
      "name": "tags",
      "type": "list(any)",
      "description": "A list of tags that you want to add to your instance",
      "default": [],
      "source": [
        "ibm_database.mongodb.tags"
      ],
      "pos": {
        "filename": "variables.tf",
        "line": 74
      }
    }
  },
  "outputs": {
    "guid": {
      "name": "guid",
      "description": "mongodb instance guid",
      "value": "ibm_database.mongodb.guid",
      "pos": {
        "filename": "outputs.tf",
        "line": 10
      },
      "type": "TypeString"
    },
    "id": {
      "name": "id",
      "description": "mongodb instance id (CRN)",
      "value": "ibm_database.mongodb.id",
      "pos": {
        "filename": "outputs.tf",
        "line": 5
      }
    },
    "version": {
      "name": "version",
      "description": "mongodb instance version",
      "value": "ibm_database.mongodb.version",
      "pos": {
        "filename": "outputs.tf",
        "line": 15
      },
      "type": "TypeString"
    }
  },
  "required_core": [
    "\u003e= 1.3.0"
  ],
  "required_providers": {
    "ibm": {
      "source": "IBM-Cloud/ibm",
      "version_constraints": [
        "\u003e= 1.49.0"
      ]
    }
  },
  "managed_resources": {
    "ibm_database.mongodb": {
      "mode": "managed",
      "type": "ibm_database",
      "name": "mongodb",
      "attributes": {
        "configuration": "configuration",
        "key_protect_key": "kms_key_crn",
        "location": "region",
        "name": "instance_name",
        "plan": "plan",
        "resource_group_id": "resource_group_id",
        "service_endpoints": "endpoints",
        "tags": "tags",
        "version": "mongodb_version"
      },
      "provider": {
        "name": "ibm"
      },
      "pos": {
        "filename": "main.tf",
        "line": 33
      }
    },
    "ibm_iam_authorization_policy.kms_policy": {
      "mode": "managed",
      "type": "ibm_iam_authorization_policy",
      "name": "kms_policy",
      "attributes": {
        "count": "skip_iam_authorization_policy",
        "source_resource_group_id": "resource_group_id",
        "target_resource_instance_id": "existing_kms_instance_guid"
      },
      "provider": {
        "name": "ibm"
      },
      "pos": {
        "filename": "main.tf",
        "line": 24
      }
    }
  },
  "data_resources": {},
  "module_calls": {
    "cbr_rule": {
      "name": "cbr_rule",
      "source": "git::https://github.com/terraform-ibm-modules/terraform-ibm-cbr//cbr-rule-module?ref=v1.2.0",
      "attributes": {
        "count": "cbr_rules",
        "enforcement_mode": "cbr_rules",
        "resources": "cbr_rules",
        "rule_contexts": "cbr_rules",
        "rule_description": "cbr_rules"
      },
      "managed_resources": {
        "ibm_cbr_rule.cbr_rule": {
          "mode": "managed",
          "type": "ibm_cbr_rule",
          "name": "cbr_rule",
          "attributes": {
            "description": "rule_description",
            "enforcement_mode": "enforcement_mode"
          },
          "provider": {
            "name": "ibm"
          },
          "pos": {
            "filename": ".terraform/modules/cbr_rule/cbr-rule-module/main.tf",
            "line": 7
          }
        }
      },
      "data_resources": {},
      "outputs": {
        "rule_crn": {
          "name": "rule_crn",
          "description": "CBR rule resource instance crn",
          "value": "ibm_cbr_rule.cbr_rule.crn",
          "pos": {
            "filename": ".terraform/modules/cbr_rule/cbr-rule-module/outputs.tf",
            "line": 15
          },
          "type": "TypeString",
          "cloud_data_type": "crn"
        },
        "rule_description": {
          "name": "rule_description",
          "description": "CBR rule resource instance description",
          "value": "ibm_cbr_rule.cbr_rule.description",
          "pos": {
            "filename": ".terraform/modules/cbr_rule/cbr-rule-module/outputs.tf",
            "line": 5
          },
          "type": "TypeString"
        },
        "rule_href": {
          "name": "rule_href",
          "description": "CBR rule resource href",
          "value": "ibm_cbr_rule.cbr_rule.href",
          "pos": {
            "filename": ".terraform/modules/cbr_rule/cbr-rule-module/outputs.tf",
            "line": 20
          },
          "type": "TypeString"
        },
        "rule_id": {
          "name": "rule_id",
          "description": "CBR rule resource instance id",
          "value": "ibm_cbr_rule.cbr_rule.id",
          "pos": {
            "filename": ".terraform/modules/cbr_rule/cbr-rule-module/outputs.tf",
            "line": 10
          }
        }
      },
      "pos": {
        "filename": "main.tf",
        "line": 124
      }
    }
  }
}
